>>> import os
>>> os.environ["DEPLOYMENT_NAME"] = "roman"

>>> from uidgid.username import to_valid_username, make_unique

>>> to_valid_username("foobar666", {})
'foobar666'

>>> to_valid_username("foobar666", {"foobar666"})
'foobar666-1'

User prefix is 'u-' always when needed

>>> to_valid_username("123456.Abcdefg", {})
'u-123456-abcdefg'

Group prefix is defined by a function of DEPLOYMENT_NAME and
defaults to "g-" when it is not defined.

>>> to_valid_username("123456.Abcdefg", {}, kind="group")
'rmn-123456-abcdefg'

>>> to_valid_username("0123456789ABCDEF"*2, {}, kind="group")
'rmn-0123456789abcdef0123456789ab'

>>> to_valid_username("0123456789ABCDEF"*2, 
...     {'rmn-0123456789abcdef0123456789ab', 'rmn-0123456789abcdef0123456789-2'},
...     kind="group")
'rmn-0123456789abcdef0123456789-3'

>>> del os.environ["DEPLOYMENT_NAME"]
>>> to_valid_username("123456.Abcdefg", {}, kind="group")
'g-123456-abcdefg'

